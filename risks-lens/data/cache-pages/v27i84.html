<!DOCTYPE html>
<html lang="en" itemscope="" itemtype="http://schema.org/WebPage" prefix="og: http://ogp.me/ns#">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>The RISKS Digest Volume 27 Issue 84</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/Risks/assets/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/Risks/assets/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/Risks/assets/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/Risks/assets/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/Risks/assets/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/Risks/assets/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/Risks/assets/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/Risks/assets/favicons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="/Risks/assets/favicons/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="/Risks/assets/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/Risks/assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/Risks/assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/Risks/assets/favicons/favicon-128.png" sizes="128x128">
<meta name="application-name" content="The Risks Digest">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="/Risks/assets/favicons/mstile-144x144.png">
<meta name="msapplication-square70x70logo" content="/Risks/assets/favicons/mstile-70x70.png">
<meta name="msapplication-square150x150logo" content="/Risks/assets/favicons/mstile-150x150.png">
<meta name="msapplication-wide310x150logo" content="/Risks/assets/favicons/mstile-310x150.png">
<meta name="msapplication-square310x310logo" content="/Risks/assets/favicons/mstile-310x310.png">
<link rel="stylesheet" href="/Risks/assets/css/rlayout.min.css" media="screen">
<link rel="Up" href="/Risks/">
<link rel="Contents" href="/Risks/">
<link rel="Help" href="/Risks/">
<link rel="Home" href="/Risks/">
<link rel="Search" href="/Risks/search">
<link rel="First" href="/Risks/1/1">
<link rel="Last" href="/Risks/latest">
<link rel="Copyright" href="/Risks/info.html#cpr">
<link rel="alternate" href="/rdigest.rdf" type="application/rss+xml" title="RSS">
<link rel="alternate" href="/risksrss1.xml" type="application/rss+xml" title="RSS 1.0">
<link rel="alternate" href="/risksrss2" type="application/rss+xml" title="RSS 2.0">
<link rel="alternate" href="/risksatom.xml" type="application/atom+xml" title="ATOM">
<link rel="alternate" href="/risks.json" type="application/json" title="JSON Feed">
<link rel="alternate" href="/risksgorss1.xml" type="application/rss+xml" title="RSS 1.0 WAP">
<link rel="alternate" href="/risksgorss2" type="application/rss+xml" title="RSS 2.0 WAP">
<link rel="alternate" href="/risksgoatom.xml" type="application/atom+xml" title="ATOM WAP">
<link rel="alternate" href="/risksgo.json" type="application/json" title="JSON Feed">
<link rel="Index" href="/Risks/27/index">
<link rel="Prev" href="/Risks/27/83">
<link rel="Next" href="/Risks/27/85">
<meta name="DC.Creator" content="Peter G. Neumann">
<meta name="DC.Title" content="The RISKS Digest, Volume 27 Issue 84">
<meta name="DC.Language" content="en">
<meta name="DC.Type" content="Text">
<meta name="DC.Format" content="text/html">
<meta property="og:title" content="The RISKS Digest, Volume 27 Issue 84">
<meta property="og:site_name" content="The Risks Digest">
<meta property="og:locale" content="en">
<meta property="og:type" content="website">
<meta name="citation_author" content="Peter G. Neumann">
<meta name="citation_title" content="The RISKS Digest, Volume 27 Issue 84">
<meta name="citation_journal_title" content="The RISKS Digest, Volume 27 Issue 84">
<meta name="DC.Date" content="2014-04-16">
<meta property="og:article:published_time" content="2014-04-16">
<meta name="citation_volume" content="27">
<meta name="citation_issue" content="84">
<meta name="citation_publication_date" content="2014/04/16">
</head>
<body lang="en-GB">
            <nav><div class="btns">
                                                <a href="/Risks/27/83" title="Volume 27 Issue 83" itemprop="relatedLink"><i class="fad fa-fw fa-arrow-left"></i></a>
                                <a href="/Risks/27/index" title="Volume 27 Index" itemprop="relatedLink"><i class="fad fa-fw fa-list"></i></a>
                                                    <a href="/Risks/27/85" title="Volume 27 Issue 85" itemprop="relatedLink"><i class="fad fa-fw fa-arrow-right"></i></a>
                                        <a href="mailto:risks@csl.sri.com" title="Submit an article to RISKS" itemprop="relatedLink"><i class="fad fa-fw fa-envelope"></i></a>
            <a href="mailto:lindsay.marshall@newcastle.ac.uk?subject=Risks+Problem+27.84" title="Report a problem with this issue" itemprop="relatedLink"><i class="fad fa-fw fa-bug"></i></a>
            <a href="/Risks/archive/27/risks-27.84.gz" title="Fetch this issue as compressed plaintext" itemprop="relatedLink"><i class="fad fa-fw fa-cloud-download-alt"></i></a>
            <a href="/Risks/latest" title="The latest issue" itemprop="relatedLink"><i class="fad fa-fw fa-fast-forward"></i></a>
                            <a href="/Risks/" title="Information about RISKS" itemprop="relatedLink"><i class="fad fa-fw fa-info"></i></a>
                                </div>
        <div class="srch">
            <form action="/Risks/search" method="get">
                <label>Search RISKS <input type="text" name="query" placeholder="Query String"></label>
                <button type="submit"><i class="fad fa-fw fa-search"></i></button>
            </form>
        </div>
        <div class="clear"></div>
    </nav><h1 class="cntr" itemprop="name">
<span class="rdigest">The RISKS Digest</span><br>Volume 27 Issue 84</h1>
            <h2 class="cntr">Wednesday, 16th April 2014</h2>
        <h3 class="cntr">Forum on Risks to the Public in Computers and Related Systems</h3>
    <h3 class="cntr">
	<i><a href="//www.acm.org">ACM</a> Committee on Computers and Public Policy,
	<a href="http://www.csl.sri.com/neumann/neumann.html">Peter G. Neumann</a>, moderator</i>
        </h3>

    <h3>Contents</h3>
    
<dl>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj1">Spider threat fixed by software</a>
</dt>
<dd>
<a href="#subj1.1">Martyn Thomas</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj2">Whitehat hacker goes too far, gets raided by FBI, tells all</a>
</dt>
<dd>
<a href="#subj2.1">Sean Gallagher</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj3">OpenSSL Mallocware = Malware</a>
</dt>
<dd>
<a href="#subj3.1">Henry Baker</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj4">The Heartbleed Challenge</a>
</dt>
<dd>
<a href="#subj4.1">cloudflarechallenge via Monty Solomon</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj5">Re: How Heartbleed Broke the Internet, And Why It Can Happen Again</a>
</dt>
<dd>
<a href="#subj5.1">Jonathan S. Shapiro</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj6">"CRA loses 900 SIN numbers through Heartbleed bug"</a>
</dt>
<dd>
<a href="#subj6.1">Candice So via  Gene Wirchenko</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj7">Vicious Heartbleed bug bites millions of Android phones, other devices</a>
</dt>
<dd>
<a href="#subj7.1">Dan Goodin</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj8">All sent and received e-mails in Gmail will be analyzed, says Google</a>
</dt>
<dd>
<a href="#subj8.1">Casey Johnston</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj9">"Digital Privacy Act allows companies to hand over customer  information without warrant or consent"</a>
</dt>
<dd>
<a href="#subj9.1">Brian Jackson</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj10">Apple, Samsung, mobile carriers to debut anti-theft kill switch in 2015</a>
</dt>
<dd>
<a href="#subj10.1">Cyrus Farivar</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj11">Fingerprint lock in Samsung Galaxy 5 easily defeated by whitehat hackers</a>
</dt>
<dd>
<a href="#subj11.1">Dan Goodin</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj12">Unintended Denial of Service by Banking Security</a>
</dt>
<dd>
<a href="#subj12.1">Toby Douglass</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="#subj13">"Microsoft confirms it's dropping Windows 8.1 support"</a>
</dt>
<dd>
<a href="#subj13.1">Woody Leonhard</a><br>
</dd>
<dt>
<img src="/Images/redball.gif" alt="" width="14" height="14"><a href="/Risks">Info on RISKS (comp.risks)</a>
</dt>
</dl>
<a id="subj1" name="subj1" href="#subj1"><hr class="main"></a>
<h3 class="ht">
<a id="subj1.1" name="subj1.1" href="#subj1.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Spider threat fixed by software</h3>
<address>
Martyn Thomas 
&lt;martyn@thomas-associates.co.uk&gt;
</address>
<i>Sat, 12 Apr 2014 16:00:54 +0100</i><pre>
"Petrol-sniffing spiders have forced Mazda to issue a voluntary recall
notice so it can apply a software fix to its cars."
  <a href="http://www.bbc.co.uk/news/technology-26921734">http://www.bbc.co.uk/news/technology-26921734</a>

De-bugging was tried first, but failed.

</pre>
<a id="subj2" name="subj2" href="#subj2"><hr class="main"></a>
<h3 class="ht">
<a id="subj2.1" name="subj2.1" href="#subj2.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Whitehat hacker goes too far, gets raided by FBI, tells all (Sean Gallagher)</h3>
<address>
"Peter G. Neumann" 
&lt;neumann@csl.sri.com&gt;
</address>
<i>Fri, 11 Apr 2014 7:57:29 PDT</i><pre>
Sean Gallagher, *Ars Technica*, 9 Apr 2014
[via "InfoSec News".  PGN]
<a href="http://arstechnica.com/tech-policy/2014/04/whitehat-hacker-goes-too-far-gets-raided-by-fbi-tells-all/">http://arstechnica.com/tech-policy/2014/04/whitehat-hacker-goes-too-far-gets-raided-by-fbi-tells-all/</a>

A whitehat hacker from the Baltimore suburbs went too far in his effort to
drive home a point about a security vulnerability he reported to a client.
Now he's unemployed and telling all on reddit.

David Helkowski was working for Canton Group, a Baltimore-based software
consulting firm on a project for the University of Maryland (UMD), when he
claims he found malware on the university's servers that could be used to
gain access to personal data of students and faculty. But he says his
employer and the university failed to take action on the report, and the
vulnerability remained in place even after a data breach exposed more than
300,000 students' and former students' Social Security numbers.

As Helkowski said to a co-worker in Steam chat, "I got tired of being
ignored, so I forced their hand." He penetrated the university's network
from home, working over multiple VPNs, and downloaded the personal data of
members of the university's security task force. He then posted the data to
Pastebin and e-mailed the members of the task force anonymously on 15 Mar.

One day later, the FBI obtained a search warrant for Helkowski's home.
While no charges have yet been filed against him, Helkowski's employment
with Canton Group has ended. And yesterday, he took to reddit to tell
everyone about it in a post entitled "IamA Hacker who was Raided by the FBI
and Secret Service AMAA!" To prove his identity, he even posted a redacted
copy of the search warrant he was served.

How did the FBI track him down so fast? It turns out that Helkowski told
just about everyone (including co-workers) about what he was doing. And
since the vulnerability he used was the same one Canton Group had reported
to UMD on 27 Feb, it didn't take a lot of sleuthing to follow a trail that
pointed straight back to Helkowski's home in the Baltimore suburb of
Parkville. [...]

</pre>
<a id="subj3" name="subj3" href="#subj3"><hr class="main"></a>
<h3 class="ht">
<a id="subj3.1" name="subj3.1" href="#subj3.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>OpenSSL Mallocware = Malware</h3>
<address>
Henry Baker 
&lt;hbaker1@pipeline.com&gt;
</address>
<i>Thu, 10 Apr 2014 21:52:26 -0700</i><pre>
This "heartbleed" bug is indeed heartbreaking to all us computer scientists
who have worked entire careers to provide computer languages and tools in
which these kinds of bugs simply can't happen.

Buffer overflows and memory allocation bugs stopped being funny when I was
still an undergraduate in the 1960's.  If you won't use a memory safe
programming language, perhaps you should return your Computer Science
degree.  Memory misuse bugs now cost companies fortunes, and with autos,
airplanes and medical appliances so dependent upon software, these bugs will
cost people their lives.

This use of unsafe programming languages is no longer just sloppy
programming; it's now negligent MALpractice.  Sooner or later, a software
"engineer" will lose his/her house as a result of such malpractice; juries
will simply lose patience with an industry that refuses to implement even
the most rudimentary safety precautions such as memory-safe programming.

There's a reason _malloc_ is called _MALloc_: it's MALware!

<a href="http://www.tedunangst.com/flak/post/analysis-of-openssl-freelist-reuse">http://www.tedunangst.com/flak/post/analysis-of-openssl-freelist-reuse</a>

analysis of openssl freelist reuse

About two days ago, I was poking around with OpenSSL to find a way to
mitigate Heartbleed. I soon discovered that in its default config, OpenSSL
ships with exploit mitigation countermeasures, and when I disabled the
countermeasures, OpenSSL stopped working entirely.  That sounds pretty bad,
but at the time I was too frustrated to go on.  Last night I returned to the
scene of the crime.

freelist

OpenSSL uses a custom freelist for connection buffers because long ago and
far away, malloc was slow. Instead of telling people to find themselves a
better malloc, OpenSSL incorporated a one-off LIFO freelist. You guessed
it. OpenSSL misuses the LIFO freelist. In fact, the bug I'm about to
describe can only exist and go unnoticed precisely because the freelist is
LIFO.

OpenSSL reads data from the connection into a temporary buffer, allocating a
new one if necessary. For reference, consult the ssl/s3_pkt.c functions
ssl3_read_n and ssl3_read_bytes. Be mindful you are not confused by the
difference between the record buffer s-&gt;s3-&gt;rrec and the read buffer
s-&gt;s3-&gt;rbuf. The buffer setup and release functions themselves live in
ssl/s3_both.c.

On line 1059, we find a call to ssl3_release_read_buffer after we have read
the header, which will free the current buffer.

<code>
if (type == rr-&gt;type) /* SSL3_RT_APPLICATION_DATA or SSL3_RT_HANDSHAKE */
        {
[...]
        if (!peek)
                {
                rr-&gt;length-=n;
                rr-&gt;off+=n;
                if (rr-&gt;length == 0)
                        {
                        s-&gt;rstate=SSL_ST_READ_HEADER;
                        rr-&gt;off=0;
                        if (s-&gt;mode &amp; SSL_MODE_RELEASE_BUFFERS)
                                ssl3_release_read_buffer(s);
                        }
                }
</code>

There's one small problem. We're not actually done with it yet. It still has
some interesting data in it that we will want to read later. Fortunately,
this is only a small problem because the LIFO freelist will give it right
back to us! It has to chill on the freelist for few microseconds, but then
the next call to ssl3_read_n will call setup and start right back where we
left off. Same buffer, same contents.

<code>
        rb = &amp;(s-&gt;s3-&gt;rbuf);
        if (rb-&gt;buf == NULL)
                if (!ssl3_setup_read_buffer(s))
                        return -1;
 
        left = rb-&gt;left;
</code>

Unless, of course, there is no freelist and releasing the read buffer
actually, you know, releases it, which is what happens when you compile with
OPENSSL_NO_BUF_FREELIST. Now that first buffer is gone forever, and it's a
different buffer that we start reading from. But this new, different buffer
isn't very likely to have the same data as the old buffer. OpenSSL gets very
confused when it can't find the data it expects and aborts the connection.

(Riddle: what is the value of rb-&gt;left?)

patch

The solution is quite simple. Don't release the buffer if we're not done
with it. There are probably many ways to shave this yak; here's one:

<code>
diff -u -p -r1.20 s3_pkt.c
--- s3_pkt.c    27 Feb 2014 21:04:57 -0000    1.20
+++ s3_pkt.c    10 Apr 2014 03:31:18 -0000
@@ -1054,8 +1054,6 @@ start:
                                {
                                s-&gt;rstate=SSL_ST_READ_HEADER;
                                rr-&gt;off=0;
-                               if (s-&gt;mode &amp;
SSL_MODE_RELEASE_BUFFERS)
-                                       ssl3_release_read_buffer(s);
                                }
                        }
                return(n);
</code>

analysis

This bug would have been utterly trivial to detect when introduced had the
OpenSSL developers bothered testing with a normal malloc (not even a
security focused malloc, just one that frees memory every now and
again). Instead, it lay dormant for years until I went looking for a way to
disable their Heartbleed accelerating custom allocator.

Building exploit mitigations isn't easy. It's difficult because the
attackers are relentlessly clever. And it's aggravating because there's so
much shitty software that doesn't run properly even when it's not under
attack, meaning that many mitigations cannot be fully enabled. But it's
absolutely infuriating when developers of security sensitive software are
actively thwarting those efforts by using the world's most exploitable
allocation policy and then not even testing that one can disable it.

Update: Turns out I'm not the first person to run into this. Here's a
four-year-old bug report. And another.

  [We need a malloculist to see through this mess!??  PGN]

</pre>
<a id="subj4" name="subj4" href="#subj4"><hr class="main"></a>
<h3 class="ht">
<a id="subj4.1" name="subj4.1" href="#subj4.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>The Heartbleed Challenge (cloudflarechallenge)</h3>
<address>
Monty Solomon 
&lt;monty@roscom.com&gt;
</address>
<i>Sat, 12 Apr 2014 03:12:15 -0400</i><pre>
Can you steal the keys from this server?

So far, two people have independently solved the Heartbleed Challenge.  The
first was submitted at 4:22:01 PT by Fedor Indutny (@indutny). He sent at
least 2.5 million requests over the span of the challenge, this was
approximately 30% of all the requests we saw. The second was submitted at
5:12:19 PT by Ilkka Mattila of NCSC-FI using around 100 thousand requests.

We confirmed that both of these individuals have the private key and that it
was obtained through Heartbleed exploits. We rebooted the server at 3:08 PT,
which may have contributed to the key being available in memory, but we
can't be certain. [...]

<a href="https://www.cloudflarechallenge.com/heartbleed">https://www.cloudflarechallenge.com/heartbleed</a>

</pre>
<a id="subj5" name="subj5" href="#subj5"><hr class="main"></a>
<h3 class="ht">
<a id="subj5.1" name="subj5.1" href="#subj5.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Re: How Heartbleed Broke the Internet, And Why It Can Happen Again</h3>
<address>
Jonathan S. Shapiro 
&lt;shap@eros-os.org&gt;
</address>
<i>Tuesday, April 15, 2014</i><pre>
  [Via Dave Farber's IP distribution.  PGN]

In the aftermath of Heartbleed, several opinions have been posed on the IP
list that are not supported by the evidence. I'd like to address some of
them briefly:

THE MANY EYEBALLS DEBATE

This discussion seems to have originated with Stephen Henson at Wired.
Henson proposes that professionally paid eyeballs and rigorous quality
assurances catch bugs like Heartbleed. It's hard to say whether this
*particular* issue would have been caught, but this proposition has been
tested repeatedly, and it's thoroughly discredited. Attackers have
consistently been able to slip bugs into the source code of programs even
when those applications use a very careful, disciplined, multi-party review
process. The attacker success rate is so close to 100% as makes no
difference.

Henson goes on to pursue a largely uninformed and unsubstantiated diatribe
about Open Source software that is mostly nonsense, but as much as I like
open source, Gumby Wallace's appeal to the so-called "many eyeballs effect"
(or as Eric Raymond put it originally: "With enough eyeballs, all bugs are
shallow.") is misguided. First, it depends a lot on the quality of the
eyeballs; as with everything else, reviewer quality and skill follows a
normal distribution. Mr. Raymond has long since acknowledged to me privately
that his slogan was created for the purpose of marketing open source, and is
technically very problematic. But second, refer back to what I said above:
when qualified reviewers have been consciously selected and are operating
under a careful, deliberate, and concerted review process, the bad guys
still exceed the Ivory Snow metric; they win more than 99 and 44/100% of the
time. It doesn't matter if the process involved is open source or closed
source.

The *important* advantages of Open Source in this discussion are (1) that a
repair for a critical bug, once found, can be locally applied in minutes,
and (2) if it's critical enough, you can dig in and fix it yourself. This is
in strong contrast to closed source products where the turnaround time from
bug report to patch is best measured in months or years and the customer is
essentially helpless while the repair deployment process slowly grinds
along.

Abe Singer responded to Mr. Wallace with some comments on the importance of
diversity. Intuitively this makes sense, but there is a disturbing doctoral
dissertation from Columbia that examined this proposition empirically and
found it lacking. They showed that two groups of programmers operating from
the same specification in complete isolation from each other tend to make
highly correlated mistakes. Diversity would be very valuable if we could
actually achieve it, and there has been interesting work on achieving
diversity through automated means. In the mean time, a lot of our battle
could be eliminated by adoption of safe programming languages and type
systems. That would at least leave us time to think about the other half of
the problem.

LEGACY HARDWARE

Brett Glass chimed in about the benefits of segmented hardware, referencing
the Intel platforms of his youth. Matt Kauffman responded discussing the
Intel architecture's evolution, but he didn't really question the premise.

First, I note that Mr. Glass wants much more than mere segmentation, and
Intel's i432 did a decent job of architecting what he seems to want. I'd
refer him to the excellent post-hoc assessment on that machine by Colwell,
Gehringer, and Jensen: Performance Effects of Architectural Complexity in
the Intel 432. After reading that paper, it's instructive to follow up by
reading Fleisch: The Failure of Personalities to Generalize, and then see if
anybody has had the stones to publicly write up the failure of the
Itanium. The point being that when things get too complex, it becomes
inherently impossible either to manage their complexity or to limit their
pace of rework to the point where something actually gets finished.

There certainly *are* useful changes to hardware that would improve things,
but segmentation isn't one of them. There are three reasons for this:

1. Segmentation requires language level support that has long since gone the
way of the dinosaur. Ultimately, *this* is why segments were removed from
the Intel hardware. The programming languages that can use them no longer
exist. So it isn't just a matter of restoring this feature to the
hardware. It would require hundreds of *billions* of dollars worth of new
software. If we're going to undertake that kind of cost, there are better
yields to be had than what we can get from segmentation.

Ivan Goddard has been working on an interesting variation on segments, but
I'm very skeptical that he'll be able to make his approach work with
mainstream languages.

2. Modern safe languages almost entirely subsume the benefits of
segmentation. When combined with strong type systems, they even let us do
cross-process object sharing with sane semantics, which paging+segmentation
has a very hard time supporting. There is an argument that hardware checking
holds up better against ambient background ionizing radiation, but that
argument becomes dubious when examined critically in modern
implementations. As a software-only approach, I'd point Brett and other
interested readers at the very successful work that Brad Chen and his team
have done on software component sandboxing in "Native Client".

3. From a formal verification perspective, segmentation introduces aliasing
in the ground memory model. This makes formal verification *much* harder
than a flat memory model.

WHAT WE NEED

At the risk of running afoul of "this is new, therefore better", I think
that there *are* some things hardware could give us with minimal and
compatible change that would make an enormous difference. The main
impediment to wide adoption of safe languages at this point is cost of
conversion and the unpredictability of garbage collection performance. The
first is incrementally getting fixed, and the second seems to have given way
in the face of recent work on continuous concurrent collection. There are
two things we could use from the hardware that are useful for a broad range
of applications that would significantly improve and simplify the concurrent
collection problem:

 * Recursive virtualization, where an application can set memory page
    permissions on itself.
 * Support for scheduler activations, or at least user-mode fault delivery.

Recursive virtualization has mostly happened on the later 64-bit Intel
processors, and exists in preliminary form on the 64 bit ARM machines.

Implementing scheduler activations is possible on 64-bit Intel systems, but
turns out not to be possible on 32-bit ARM processors because of a flaw in
the design of processor status word handling. I talked to Richard
Grisenthwaite (ARM's principal architect) about fixing this in ARM64 at one
point, but I'm not sure what impact, if any, that conversation ultimately
had.

Please note that both of these are *general* architectural features that
have many applications. High-performance GC is just one of them. Better
still: both can be implemented without breaking current software in any way.

Jonathan S. Shapiro, Ph.D., Managing Partner,, PixelFab, LLC

</pre>
<a id="subj6" name="subj6" href="#subj6"><hr class="main"></a>
<h3 class="ht">
<a id="subj6.1" name="subj6.1" href="#subj6.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>"CRA loses 900 SIN numbers through Heartbleed bug" (Candice So)</h3>
<address>
Gene Wirchenko 
&lt;genew@telus.net&gt;
</address>
<i>Tue, 15 Apr 2014 18:14:23 -0700</i><pre>
[CRA is the Canada Revenue Agency (the Canadian equivalent of the
IRS), and a SIN Number is the Canadian equivalent of the U.S. SSN.]

Candice So, *IT Business*, 14 Apr 2014
CRA loses 900 SIN numbers through Heartbleed bug
<a href="http://www.itbusiness.ca/news/cra-loses-900-sin-numbers-through-heartbleed-bug/48041">http://www.itbusiness.ca/news/cra-loses-900-sin-numbers-through-heartbleed-bug/48041</a>

</pre>
<a id="subj7" name="subj7" href="#subj7"><hr class="main"></a>
<h3 class="ht">
<a id="subj7.1" name="subj7.1" href="#subj7.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Vicious Heartbleed bug bites millions of Android phones, other devices (Dan Goodin)</h3>
<address>
Monty Solomon 
&lt;monty@roscom.com&gt;
</address>
<i>Wed, 16 Apr 2014 02:28:08 -0400</i><pre>
Dan Goodin, Ars Technica, 14 Apr 2014
Not the exclusive province of servers, Heartbleed can hack end users, too.

The catastrophic Heartbleed security bug that has already bitten Yahoo Mail,
the Canada Revenue Agency, and other public websites also poses a formidable
threat to end-user applications and devices, including millions of Android
handsets, security researchers warned.

Handsets running version 4.1.1 of Google's mobile operating system are
vulnerable to attacks that might pluck passwords, the contents of personal
messages, and other private information out of device memory, a company
official warned on Friday. Marc Rogers, principal security researcher at
Lookout Mobile, a provider of anti-malware software for Android phones, said
some versions of Android 4.2.2 that have been customized by the carriers or
hardware manufacturers have also been found to be susceptible. Rogers said
other releases may contain the critical Heartbleed flaw as well. Officials
with BlackBerry have warned the company's messenger app for iOS, Mac OS X,
Android, and Windows contains the critical defect and have released an
update to correct it. ...

<a href="http://arstechnica.com/security/2014/04/vicious-heartbleed-bug-bites-millions-of-android-phones-other-devices/">http://arstechnica.com/security/2014/04/vicious-heartbleed-bug-bites-millions-of-android-phones-other-devices/</a>

</pre>
<a id="subj8" name="subj8" href="#subj8"><hr class="main"></a>
<h3 class="ht">
<a id="subj8.1" name="subj8.1" href="#subj8.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>All sent and received e-mails in Gmail will be analyzed, says Google (Casey Johnston)</h3>
<address>
Monty Solomon 
&lt;monty@roscom.com&gt;
</address>
<i>April 16, 2014 at 1:50:38 EDT</i><pre>
Casey Johnston, Ars Technica, 15 Apr 2014
The new text might be a reaction to the e-mail scanning lawsuit.

Google added a paragraph to its terms of service as of Monday to tell
customers that, yes, it does scan e-mail content for advertising and
customized search results, among other reasons. The change comes as Google
undergoes a lawsuit over its e-mail scanning, with the plaintiffs
complaining that Google violated their privacy.

E-mail users brought the lawsuit against Google in 2013, alleging that the
company was violating wiretapping laws by scanning the content of
e-mails. The plaintiffs' complaints vary, but some of the cases include
people who sent their e-mails to Gmail users from non-Gmail accounts and
nonetheless had their content scanned. They argue that since they didn't use
Gmail, they didn't consent to the scanning. ...

&lt;<a href="http://arstechnica.com/business/2014/04/google-adds-to-tos-yes-we-scan-all-your-e-mails/">http://arstechnica.com/business/2014/04/google-adds-to-tos-yes-we-scan-all-your-e-mails/</a>&gt;

</pre>
<a id="subj9" name="subj9" href="#subj9"><hr class="main"></a>
<h3 class="ht">
<a id="subj9.1" name="subj9.1" href="#subj9.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>"Digital Privacy Act allows companies to hand over customer information without warrant or consent" (Brian Jackson)</h3>
<address>
Gene Wirchenko 
&lt;genew@telus.net&gt;
</address>
<i>Fri, 11 Apr 2014 10:21:29 -0700</i><pre>
Brian Jackson, *IT Business*, 10 Apr 2014
<a href="http://www.itbusiness.ca/article/digital-privacy-act-allows-companies-to-hand-over-customer-information-without-warrant-or-consent">http://www.itbusiness.ca/article/digital-privacy-act-allows-companies-to-hand-over-customer-information-without-warrant-or-consent</a>

selected text:

Canada's Research Chair of Internet and e-commerce law is concerned that the
newly introduced Digital Privacy Act could actually result in the personal
information of more Canadians being given away without their consent or
knowledge, he writes in a new blog post.

Michael Geist combed over the legislation tabled in the Senate earlier this
week and discovered this nugget of legalese that expands warrantless
disclosure:

  ... an organization may disclose personal information without the
  knowledge or consent of the individual… if the disclosure is made to
  another organization and is reasonable for the purposes of investigating a
  breach of an agreement or a contravention of the laws of Canada or a
  province that has been, is being or is about to be committed and it is
  reasonable to expect that disclosure with the knowledge or consent of the
  individual would compromise the investigation;

This means that companies, for example an Internet service provider (ISP),
will hand over personal details about customers without need for consent
from that customer or a court order being provided. Not only could legal
authorities take advantage of this new power, but so could any other
organization that's doing its own investigation of a possible contract
breach or legal violation.

</pre>
<a id="subj10" name="subj10" href="#subj10"><hr class="main"></a>
<h3 class="ht">
<a id="subj10.1" name="subj10.1" href="#subj10.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Apple, Samsung, mobile carriers to debut anti-theft kill switch in 2015 (Cyrus Farivar)</h3>
<address>
Monty Solomon 
&lt;monty@roscom.com&gt;
</address>
<i>Wed, 16 Apr 2014 02:01:09 -0400</i><pre>
Cyrus Farivar, Ars Technica, 15 Apr 2014
Voluntary industry move appears to get ahead of pending anti-theft bill.

Rather than waiting for pending legislation to mandate an anti-theft kill
switch, the leading mobile phone manufacturers and service
providers-including Apple, Samsung, Huawei, AT&amp;T, T-Mobile, Verizon, and
Sprint-came together Tuesday to impose their own solution.

The new "Smartphone Anti-Theft Voluntary Commitment" stipulates that new
phones made after July 2015 will have a "preloaded or downloadable"
anti-theft tool.

Two months ago, Mark Leno, a California state senator introduced a bill in
response to the rise of smartphone theft. More than 50 percent of all
robberies in San Francisco involve a smartphone, according to law
enforcement statistics Leno cites in his bill.  Sections of the bill also
note that smartphone theft was up 12 percent in Los Angeles in 2012, and
nationwide, 113 smartphones are lost or stolen each minute.

Should the California bill become law in the Golden State, it likely would
have a dramatic effect on sales of mobile phones across the US as companies
could not afford to ignore the country's most populous state. ...

<a href="http://arstechnica.com/tech-policy/2014/04/apple-samsung-mobile-carriers-to-debut-anti-theft-kill-switch-in-2015/">http://arstechnica.com/tech-policy/2014/04/apple-samsung-mobile-carriers-to-debut-anti-theft-kill-switch-in-2015/</a>

</pre>
<a id="subj11" name="subj11" href="#subj11"><hr class="main"></a>
<h3 class="ht">
<a id="subj11.1" name="subj11.1" href="#subj11.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Fingerprint lock in Samsung Galaxy 5 easily defeated by whitehat hackers (Dan Goodin)</h3>
<address>
Monty Solomon 
&lt;monty@roscom.com&gt;
</address>
<i>Wed, 16 Apr 2014 01:58:10 -0400</i><pre>
Dan Goodin, Ars Technica, 15 Apr 2014
Multiple weaknesses put devices and PayPal accounts within reach of attackers.

The heavily marketed fingerprint sensor in Samsung's new Galaxy 5 smartphone
has been defeated by whitehat hackers who were able to gain unfettered
access to a PayPal account linked to the handset.

The hack, by researchers at Germany's Security Research Labs, is the latest
to show the drawbacks of using fingerprints, iris scans, and other physical
characteristics to authenticate an owner's identity to a computing
device. ...

<a href="http://arstechnica.com/security/2014/04/fingerprint-lock-in-samsung-galaxy-5-easily-defeated-by-whitehat-hackers/">http://arstechnica.com/security/2014/04/fingerprint-lock-in-samsung-galaxy-5-easily-defeated-by-whitehat-hackers/</a>

</pre>
<a id="subj12" name="subj12" href="#subj12"><hr class="main"></a>
<h3 class="ht">
<a id="subj12.1" name="subj12.1" href="#subj12.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>Unintended Denial of Service by Banking Security</h3>
<address>
Toby Douglass 
&lt;trd@45mercystreet.net&gt;
</address>
<i>Sun, 13 Apr 2014 02:53:01 +0100</i><pre>
I recently lived in New York City for a period.  I opened an account with
the Bank of America, an international account, sans SSN.  Upon departing, I
moved to Tunis and began using my Dutch bank account, for the lower card-use
charges, and so wished to transfer my US balance to the Dutch account.

Upon coming to make this transfer, I discover BoA prevents accounts being
emptied by attackers imposes a transfer limit of one thousand US dollars per
day.  It is possible to raise the limit to ten thousand dollars (which of
course even then may or may not be enough), by subscribing to a two-factor
authentication scheme, but this scheme, although usable outside the USA, can
only be subscribed to within the USA.

It is fair to say BoA has indeed prevented accounts from being emptied, by
dint of applying this security mechanism, but emptying accounts is in fact
normal functionality and the mechanism to permit this normal functionality
is offered only to a subset of users.

As matters stand, customers who leave the US and then discover this security
mechanism must pay a 2.5% fee to remit their balance, as there is a 25 USD
fee per transfer.

</pre>
<a id="subj13" name="subj13" href="#subj13"><hr class="main"></a>
<h3 class="ht">
<a id="subj13.1" name="subj13.1" href="#subj13.1"><img src="/Images/Misc/flash.gif" width="14" height="14" alt=""></a>"Microsoft confirms it's dropping Windows 8.1 support" (Woody Leonhard)</h3>
<address>
Gene Wirchenko 
&lt;genew@telus.net&gt;
</address>
<i>Mon, 14 Apr 2014 11:13:50 -0700</i><pre>
[Warning: AFAICS, the problem is that a new updating system has to be
installed, but many are having trouble installing it, but Microsoft is
cutting support if one does not have the update.  The headline is somewhat
accurate and somewhat misleading.]

Woody Leonhard | InfoWorld, 14 Apr 2014
Microsoft TechNet blog makes clear that Windows 8.1 will not be patched;
  users must get Windows 8.1 Update if they want security patches
<a href="http://www.infoworld.com/t/microsoft-windows/microsoft-confirms-its-dropping-windows-81-support-240407">http://www.infoworld.com/t/microsoft-windows/microsoft-confirms-its-dropping-windows-81-support-240407</a>

</pre>

        <nav><div class="btns">
                                                <a href="/Risks/27/83" title="Volume 27 Issue 83" itemprop="relatedLink"><i class="fad fa-fw fa-arrow-left"></i></a>
                                <a href="/Risks/27/index" title="Volume 27 Index" itemprop="relatedLink"><i class="fad fa-fw fa-list"></i></a>
                                                    <a href="/Risks/27/85" title="Volume 27 Issue 85" itemprop="relatedLink"><i class="fad fa-fw fa-arrow-right"></i></a>
                                        <a href="mailto:risks@csl.sri.com" title="Submit an article to RISKS" itemprop="relatedLink"><i class="fad fa-fw fa-envelope"></i></a>
            <a href="mailto:lindsay.marshall@newcastle.ac.uk?subject=Risks+Problem+27.84" title="Report a problem with this issue" itemprop="relatedLink"><i class="fad fa-fw fa-bug"></i></a>
            <a href="/Risks/archive/27/risks-27.84.gz" title="Fetch this issue as compressed plaintext" itemprop="relatedLink"><i class="fad fa-fw fa-cloud-download-alt"></i></a>
            <a href="/Risks/latest" title="The latest issue" itemprop="relatedLink"><i class="fad fa-fw fa-fast-forward"></i></a>
                            <a href="/Risks/" title="Information about RISKS" itemprop="relatedLink"><i class="fad fa-fw fa-info"></i></a>
                                </div>
        <div class="srch">
            <form action="/Risks/search" method="get">
                <label>Search RISKS <input type="text" name="query" placeholder="Query String"></label>
                <button type="submit"><i class="fad fa-fw fa-search"></i></button>
            </form>
        </div>
        <div class="clear"></div>
    </nav><p class="problems">Please report problems with the web pages to <a href="mailto:lindsay.marshall@ncl.ac.uk?subject=Problem+with+RISKS+27.84">the maintainer</a></p>

    <div id="totop">
        <i class="fas fa-chevron-up"></i>Top
    </div>

    <script src="https://kit.fontawesome.com/f38fd5f4bf.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script>
	var base = '/Risks';

	    function hostname(url)
    {
        var match = url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);
        return match != null && match.length > 2 && typeof match[2] === 'string' && match[2].length > 0 ? match[2] : null;
    }

    function domain(url) {
        var host = hostname(url);
        
        if (host != null)
        {
            var parts = host.toLowerCase().split('.').reverse();
            
            if (parts != null && parts.length > 1)
            {
                for (var x in parts)
                {
                    if (parts[x].length > 3 || (parts[x].length == 3 && x > 0))
                    {
                        return parts[x];
                    }
                }
            }
        }
        return '';
    }

	$(function(){
	        $('.shield').on('click', function(e){
        e.preventDefault();
                    alert('Site privacy analysis in process of being implemented (and may never get released...)');
            });
	})
    </script><script src="/Risks/assets/js/risksmzr2.js"></script><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script><script>
     WebFont.load({
        google: {
          families: ['Open Sans']
        }
      });
    </script>
</body>
</html>
